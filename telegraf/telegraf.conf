# Global Agent Configuration
[agent]
  interval = "10s"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "0s"
  precision = ""
  hostname = ""
  omit_hostname = false

# Output to InfluxDB v2
[[outputs.influxdb_v2]]
  urls = ["http://influxdb:8086"]
  token = "A9Dfg6IIra98NLkNQtDcAJM2Cuufwg2-LNlNzu71co5Zt97X8WDjILq-STj-DSDDnSaj4nyRAWoHA1i4INDYog=="
  organization = "my-org"
  bucket = "my-bucket"

# Output for Prometheus scraping
[[outputs.prometheus_client]]
  listen = ":9273"
  path = "/metrics"
  metric_version = 2

# Input plugin for Docker monitoring
[[inputs.docker]]
  endpoint = "unix:///var/run/docker.sock"
  gather_services = true
  container_names = []
  timeout = "5s"
  perdevice = true
  total = false
  # Collect container status (running, exited, etc.)
  container_state_include = ["*"]
  docker_label_include = ["*"]
  docker_label_exclude = []